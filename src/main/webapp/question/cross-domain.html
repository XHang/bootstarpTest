<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>跨域问题示例程序</title>
<script type='text/javascript'  src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type='text/javascript'  src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
<div>
	要演示跨域问题的话，必须用浏览器打开这个本地文件，这样这个文件链接的协议就是文件协议
</div>
</body>
<script type="text/javascript">
//定义一个方法，服务端返回一个js代码来调用这个方法，调用时传的参数就是跨域数据
function  qq(data){
	alert(data[0].code);
};
$(document).ready(function(){
	/* $.ajax({
			url:"http://localhost:8080/frontEndRoad/DataServlct",
			data:{key:"haha"},
			type: "post", 
			 dataType:"jsonp",
			success: function(data) {
				alert(data[0].code);
			},
			error:function(data){
				alert("error");
				console.log(data);
			}
		}) */
		// 提供jsonp服务的url地址（不管是什么类型的地址，最终生成的返回值都是一段javascript代码）
	    var url = "http://localhost:8080/frontEndRoad/DataServlct?callback=qq&key=haha&_=1518522819482";
	    // 创建script标签，设置其属性
	    var script = document.createElement('script');
	    script.setAttribute('src', url);
	    // 把script标签加入head，此时调用开始
	    document.getElementsByTagName('head')[0].appendChild(script); 
});
</script>
</html>
